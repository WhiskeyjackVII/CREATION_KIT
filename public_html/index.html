<!DOCTYPE html>
<html>
	<head>
		<title>Game</title>
                <script src="js/Framework/ActorHandler.js" type="text/javascript"></script>
                <script src="js/Framework/Actor.js" type="text/javascript"></script>
	</head>
	<body>
	
		<canvas id="gameCanvas" width=480 height=320 style= "border:1px solid black">
			Browser doesn't support HTML5
		</canvas>
		
		<h1>Test</h1>
		<input type="button" onclick="runGameLoop()" value="Run Game">
		<input type="button" onclick="addActorOne()" value="Add Actor1">
                <input type="button" onclick="addActorTwo()" value="Add Actor2">
                <input type="button" onclick="setup()" value="Setup">
		<script type='text/javascript'>
      		
                var CANVAS_WIDTH = 480;
                var CANVAS_HEIGHT = 320;
                var FPS = 30;
        	var gameLoop;
                var ACTION_HANDLER;
                var game_canvas;
                var game_context;
        	
                    
                function setup(){
                    
        	game_canvas = document.getElementById("gameCanvas");
                game_context = game_canvas.getContext("2d");
                ACTOR_HANDLER = new ActorHandler();
       		
                    
                    
                }
        	
        	function addActorOne(){
                    //Math.floor(Math.random() * 480)
                    var actor = new Actor(Math.floor(Math.random() * 480),200,30,30,5,"js/Framework/actorPlaceHolder.jpg","act1");
                    console.log("ACTOR MADE");
                    ACTOR_HANDLER.registerActor(actor);
        	}
                
                function addActorTwo(){
                    //Math.floor(Math.random() * 480)
                    var actor = new Actor(Math.floor(Math.random() * 480),200,30,30,5,"js/Framework/actorPlaceHolder.jpg","act2");
                    console.log("ACTOR MADE");
                    ACTOR_HANDLER.registerActor(actor);
        	}
        	
        	function runGameLoop(){
        		gameLoop = setInterval(function() {
                            
                            draw();
                            update();
        		}, 1000/FPS);
        	}
        	function draw() {
                    console.log("DRAWING STARTING");
                    game_context.clearRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);
        		ACTOR_HANDLER.drawActors();
                    console.log("DRAWING FINISHED");
        	}
        	function update(){
                    console.log("UPADTING STARTING");
        		ACTOR_HANDLER.update();
                    console.log("UPADTING FINISHED");
        	}
        	
        	
        	
        </script>
	</body>
</html>